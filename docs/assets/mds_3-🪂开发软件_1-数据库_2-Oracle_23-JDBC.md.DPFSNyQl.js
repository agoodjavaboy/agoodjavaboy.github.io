import{_ as i,c as a,o as n,aF as h}from"./chunks/framework.CvyoTX4A.js";const t="/assets/1575813078066.D3e8Th7J.png",l="/assets/1575966371112.BuIxjyRn.png",k="/assets/1575966737354.DeOvQYPu.png",p="/assets/1575966939431.B0vNyf79.png",e="/assets/1575967248033.CYTJW6Y6.png",E="/assets/1575967281376.ZWs_Cb1M.png",D=JSON.parse('{"title":"JDBC","description":"","frontmatter":{},"headers":[],"relativePath":"mds/3-ğŸª‚å¼€å‘è½¯ä»¶/1-æ•°æ®åº“/2-Oracle/23-JDBC.md","filePath":"mds/3-ğŸª‚å¼€å‘è½¯ä»¶/1-æ•°æ®åº“/2-Oracle/23-JDBC.md"}'),r={name:"mds/3-ğŸª‚å¼€å‘è½¯ä»¶/1-æ•°æ®åº“/2-Oracle/23-JDBC.md"};function d(g,s,y,c,F,o){return n(),a("div",null,s[0]||(s[0]=[h('<h1 id="jdbc" tabindex="-1">JDBC <a class="header-anchor" href="#jdbc" aria-label="Permalink to &quot;JDBC&quot;">â€‹</a></h1><p><img src="'+t+'" alt="1575813078066"></p><ul><li>Java Data Base Connectivity,javaæ•°æ®åº“è¿æ¥ã€‚</li><li>JDBCæ˜¯javaè¿æ¥æ•°æ®åº“çš„æŠ€æœ¯ï¼Œå¯ä»¥åˆ©ç”¨javaç¨‹åºåœ¨å¯ä»¥ä¸ºå¤šç§å…³ç³»æ•°æ®åº“æä¾›ç»Ÿä¸€è®¿é—®ä¸­å­˜å–å€¼ï¼Œè¿›è¡Œæ•°æ®æ“ä½œã€‚</li><li>JDBCéœ€è¦ç¬¬ä¸‰æ–¹jaråŒ…çš„æ”¯æŒï¼Œé€šå¸¸ä¸åŒçš„æ•°æ®åº“å‚å•†éƒ½ä¼šå‘è¡Œå¾ˆå¤šç‰ˆæœ¬çš„JDBCçš„jaråŒ…ã€‚</li></ul><h2 id="æ„å»ºé¡¹ç›®" tabindex="-1">æ„å»ºé¡¹ç›® <a class="header-anchor" href="#æ„å»ºé¡¹ç›®" aria-label="Permalink to &quot;æ„å»ºé¡¹ç›®&quot;">â€‹</a></h2><ol><li><p>åˆ›å»ºä¸€ä¸ªjavaé¡¹ç›®ï¼š</p><p><img src="'+l+'" alt="1575966371112"></p></li><li><p>å‘é¡¹ç›®ä¸­å¯¼å…¥jaråŒ…ï¼š</p><ul><li><p>åœ¨BuildPathèœå•ä¸­Add Jarï¼š</p><p><img src="'+k+'" alt="1575966737354"></p><p><img src="'+p+'" alt="1575966939431"></p></li><li><p>ä½¿ç”¨è‡ªå®šä¹‰libæ–‡ä»¶å¤¹è¿›è¡Œå¯¼å…¥ï¼š</p><p><img src="'+e+'" alt="1575967248033"></p><p><img src="'+E+`" alt="1575967281376"></p></li></ul></li></ol><h2 id="å…­æ­¥éª¤" tabindex="-1">å…­æ­¥éª¤ <a class="header-anchor" href="#å…­æ­¥éª¤" aria-label="Permalink to &quot;å…­æ­¥éª¤&quot;">â€‹</a></h2><ol><li><p>æ³¨å†Œé©±åŠ¨</p><p>Classç±»çš„forNameæ–¹æ³•æ ¹æ®æŒ‡å®šçš„å…¨ç±»åè¿›è¡Œç±»åŠ è½½ï¼Œç±»åŠ è½½æ—¶ä¼šæ‰§è¡Œå…¶ä¸­çš„é™æ€ä»£ç å—ï¼Œä»è€Œè¿›è¡Œé©±åŠ¨æ³¨å†Œã€‚</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Class.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;OracleDriverå…¨ç±»å&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//OracleDriverç±»å­˜åœ¨äºå¯¼å…¥çš„jaråŒ…ä¸­ï¼šoracle.jdbc.driver.OracleDriver</span></span></code></pre></div></li><li><p>è·å¾—è¿æ¥</p><ul><li>jdbcï¼šåè®®å</li><li>oracleï¼šå­åè®®å</li><li>thinï¼šé©±åŠ¨æ¨¡å¼ï¼Œè¿˜æœ‰ociæ¨¡å¼ï¼ˆå¿…é¡»åœ¨å®¢æˆ·æœºä¸Šå®‰è£…å®¢æˆ·ç«¯ï¼‰</li><li>127.0.0.1ï¼šé»˜è®¤çš„æœ¬åœ°IP</li><li>1521ï¼šæ•°æ®åº“é»˜è®¤çš„ç«¯å£</li><li>æ•°æ®åº“åç§°ï¼š10Gå¯ç”¨XEï¼Œ11Gå¯ç”¨orcl</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Connection conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DriverManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;username&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">urlï¼šjdbc:oracle:thin:@127.0.0.1:1521:æ•°æ®åº“åç§°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">usernameï¼šé“¾æ¥æ•°æ®åº“ç”¨æˆ·å</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">passwordï¼šç”¨æˆ·åæ‰€å¯¹åº”çš„å¯†ç </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span></code></pre></div></li><li><p>è·å¾—ç¼–è¯‘å¯¹è±¡</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Statement sta </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createStatement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div></li><li><p>æ‰§è¡ŒSQLæŒ‡ä»¤</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æŸ¥çœ‹æ˜¯å¦æœ‰ç»“æœé›†</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sta.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">excute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sqlè¯­å¥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//è·å–ç»“æœé›†ï¼Œä¿å­˜åœ¨rså¯¹è±¡ä¸­</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ResultSet rs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sta.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">excuteQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sqlè¯­å¥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//è·å¾—ä¿®æ”¹/å¢åŠ /åˆ é™¤çš„æ¡ç›®æ€»æ•°ï¼Œä¿å­˜åœ¨rowså˜é‡ä¸­</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rows </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sta.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">excuteUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sqlè¯­å¥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div></li><li><p>å¤„ç†ç»“æœé›†</p><ul><li>nextï¼šç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€æ¡è®°å½•å¹¶æŸ¥çœ‹æ­¤è®°å½•æ˜¯å¦æœ‰æ•ˆã€‚</li><li>getXXXï¼šgetç³»åˆ—æ–¹æ³•ç”¨äºæå–å•ç‹¬ä¸€åˆ—ä¸­çš„æŸä¸€å•å…ƒæ ¼ä¸­çš„å€¼ã€‚</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å½“æŸ¥è¯¢æ“ä½œæ—¶ï¼Œç»“æœé›†å°†ä¿å­˜åœ¨åœ¨ResultSetå¯¹è±¡ä¸­</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//nextæ–¹æ³•ç±»ä¼¼è¿­ä»£å™¨çš„æŒ‡é’ˆç§»åŠ¨æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åˆ—å&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)ï¼›</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åˆ—å&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p>é‡Šæ”¾èµ„æº</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å…ˆé‡Šæ”¾æœ€åå¼€å¯çš„èµ„æºï¼Œå†é€’å½’é‡Šæ”¾</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sta.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div></li></ol><h2 id="sqlæ³¨å…¥" tabindex="-1">SQLæ³¨å…¥ <a class="header-anchor" href="#sqlæ³¨å…¥" aria-label="Permalink to &quot;SQLæ³¨å…¥&quot;">â€‹</a></h2><ul><li>é€šè¿‡ç‰¹æ®Šçš„SQLè¯­å¥å¯¹åŸæœ‰çš„SQLè¿›è¡Œç¯¡æ”¹ã€‚</li><li>ä¸€èˆ¬æƒ…å†µä¸‹å†™ï¼šor 1=1ï¼Œè¡¨ç¤ºç»å¯¹æ‰§è¡Œã€‚</li><li>ä½¿ç”¨JDBCä¸­çš„Statementç¼–è¯‘å¯¹è±¡å°±å®¹æ˜“é­å—SQLæ³¨å…¥æ”»å‡»ã€‚</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä»¥ä¸‹ä¸ºç”¨æˆ·ç™»å½•æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Student </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUserByNameAndID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Student s){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		Connection conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		Statement sta </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		ResultSet rs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		Student resultUser </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Class.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;oracle.jdbc.driver.OracleDriver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DriverManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jdbc:oracle:thin:@localhost:1521:orcl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;system&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			sta </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createStatement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ä½¿ç”¨Statementç¼–è¯‘å¯¹è±¡è¿›è¡ŒSQLç¼–è¯‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			String sql </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;select * from student2 where name=&#39;&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&#39; and id=&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sql);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			rs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sta.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">executeQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sql);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">				resultUser </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NAME&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sex&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ClassNotFoundException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (SQLException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">				if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">				if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sta</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)sta.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">				if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (SQLException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">				e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> resultUser;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ä»¥ä¸‹è¿›è¡Œæ–¹æ³•è°ƒç”¨ï¼Œå¹¶ä¼ å…¥SQLæ³¨å…¥çš„å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] args) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		StudentDao sd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> StudentDao</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //æ­¤å¤„ä¼ å…¥çš„ç”¨æˆ·åå­˜åœ¨SQLæ³¨å…¥æ”»å‡»ï¼Œå°†æ— æ¡ä»¶è·å¾—å°åˆšçš„ä¿¡æ¯ï¼Œå¯†ç å¤±å»æ•ˆæœ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sd.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUserByNameAndID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8888</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å°åˆš&#39; or &#39;1&#39;=&#39;1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span></code></pre></div><h2 id="é¢„ç¼–è¯‘" tabindex="-1">é¢„ç¼–è¯‘ <a class="header-anchor" href="#é¢„ç¼–è¯‘" aria-label="Permalink to &quot;é¢„ç¼–è¯‘&quot;">â€‹</a></h2><ul><li>PreparedStatementæ˜¯Statementçš„å­ç±»ã€‚</li><li>å…¶ä¸¤è€…éƒ½æ˜¯é€šè¿‡Connectionåˆ›å»ºçš„ã€‚</li><li>PreparedStatementåœ¨åˆ›å»ºæ—¶ï¼Œéœ€è¦ä¼ å…¥SQLè¯­å¥ï¼Œä½†åœ¨æ‰§è¡ŒSQLè¯­å¥æ—¶ä¸ç”¨ä¼ å…¥SQLè¯­å¥ï¼ŒStatementä¸å…¶ç›¸åã€‚</li><li>PreparedStatementæ‰§è¡ŒåŒæ„SQLæ•ˆç‡é«˜ï¼ŒStatementæ‰§è¡Œå¼‚æ„SQLæ•ˆç‡é«˜ã€‚</li><li>Oracleæ¥æ”¶åˆ°javaå‘é€æŒ‡ä»¤åæ‰§è¡Œé¡ºåºï¼š <ol><li>æ£€æµ‹è¯­æ³•ã€‚</li><li>æ£€æµ‹æƒé™ï¼šç”¨æˆ·å¯¹è¡¨çš„æ“ä½œæƒé™ã€‚</li><li>å°†SQLè½¬æ¢ä¸ºå†…éƒ¨æŒ‡ä»¤ã€‚</li><li>æ‰§è¡ŒæŒ‡ä»¤ã€‚</li></ol></li><li>PreparedStatementè‹¥æ‰§è¡Œäº”æ¡SQLï¼Œåœ¨åˆ›å»ºçš„æ—¶å€™å…ˆåšå‰å‡ æ­¥è¿›è¡Œé¢„ç¼–è¯‘ï¼Œåœ¨æœ€åæ‰§è¡Œçš„æ—¶å€™æ‰§è¡Œæœ€åå‡ æ­¥ã€‚Statementæ¯æ‰§è¡Œä¸€æ¡SQLéƒ½å°†æ‰§è¡Œè¿™å‡ æ­¥ã€‚</li><li>PreparedStatementå¯ä»¥å°†SQLè¯­å¥ä¸­çš„å€¼ä»¥å ä½ç¬¦çš„å½¢å¼å­˜åœ¨ï¼Œä½¿SQLè¯­å¥æ›´åŠ çµæ´»å®‰å…¨ã€‚</li><li>PreparedStatementå¯ä»¥æœ‰æ•ˆé˜²æ­¢SQLæ³¨å…¥é—®é¢˜ï¼ŒStatementå°†ä¼ å…¥çš„å†…å®¹ä½œä¸ºSQLçš„ä¸€éƒ¨åˆ†ï¼Œè€ŒPreparedStatementæ˜¯å°†ä¼ å…¥çš„å†…å®¹ä½œä¸ºä¸€ä¸ªå€¼ï¼Œä¸ä¼šå½±å“æ•´ä½“çš„SQLè¯­å¥ã€‚</li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//è·å¾—é¢„ç¼–è¯‘å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">prepareStatement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å­˜åœ¨å ä½ç¬¦çš„SQLè¯­å¥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//select * from users where name=? and password=?</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æ›¿æ¢å ä½ç¬¦ï¼šå‰é¢çš„æ•°å­—è¡¨ç¤ºç¬¬å‡ ä¸ªå ä½ç¬¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ps.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,name);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ps.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, psw);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ps.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setDouble</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, balance);</span></span></code></pre></div><h2 id="æ‰¹å¤„ç†" tabindex="-1">æ‰¹å¤„ç† <a class="header-anchor" href="#æ‰¹å¤„ç†" aria-label="Permalink to &quot;æ‰¹å¤„ç†&quot;">â€‹</a></h2><ul><li><p>å¯ä»¥å°†å¤šæ¡åŒæ„çš„SQLè¯­å¥åŠ è½½åˆ°å†…å­˜ä¸­ä¸€æ¬¡æ€§æ‰§è¡Œã€‚</p></li><li><p>æ‰¹å¤„ç†å¯ä»¥å‡å°‘ä¸æ•°æ®åº“äº¤äº’çš„æ¬¡æ•°ï¼Œä»è€Œæé«˜æ‰§è¡Œæ•ˆç‡ã€‚</p></li><li><p>Statementçš„æ‰¹å¤„ç†åœ¨addBachæ—¶è¦æ·»åŠ è¿›SQLè¯­å¥ï¼ŒPreparedStatementä¸ç”¨ï¼Œç›´æ¥è°ƒç”¨addBachæ–¹æ³•å³å¯ã€‚</p></li><li><p>Statementå¯¹è±¡æ‰¹å¤„ç†è¿”å›å€¼è¡¨ç¤ºæ¯æ¡è®°å½•æ‰§è¡Œåæ‰€å½±å“çš„æ¡ç›®æ•°ã€‚PreparedStatementå¯¹è±¡æ‰¹å¤„ç†çš„ç»“æœä¸ºå¤„ç†ç»“æœï¼š</p><p>-2ï¼šæˆåŠŸæ‰§è¡Œæœªå‡ºç°å¼‚å¸¸ï¼Œä½†å¤„ç†æ¡ç›®æ•°æœªçŸ¥ã€‚</p><p>-3ï¼šæ‰§è¡Œå¤±è´¥å‡ºç°å¼‚å¸¸ã€‚</p></li><li><p>æ‰¹å¤„ç†ä¸€èˆ¬ç”¨äºå¢åˆ æ”¹ï¼Œæ— æ³•ç”¨äºæŸ¥è¯¢ã€‚</p></li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æ³¨å†Œé©±åŠ¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Class.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;é©±åŠ¨å…¨ç±»å&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//è·å¾—è¿æ¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Connection conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DriverManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;username&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//SQLè¯­å¥é¢„ç¼–è¯‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PreparedStatementps </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">perpareStatement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å­˜åœ¨å ä½ç¬¦çš„sqlè¯­å¥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//setæ–¹å¼æ›¿æ¢å ä½ç¬¦ç¬¬ä¸€æ¬¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ps.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å€¼&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ps.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,å€¼);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ps.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addBach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æ‰¹å¤„ç†åŠ è½½ç¬¬ä¸€æ¬¡</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//setæ–¹å¼æ›¿æ¢å ä½ç¬¦ç¬¬äºŒæ¬¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ps.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å€¼&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ps.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,å€¼);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ps.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addBach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æ‰¹å¤„ç†åŠ è½½ç¬¬äºŒæ¬¡</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æ‰§è¡Œæ‰¹å¤„ç†</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] results </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ps.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">executeBatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ç»“æœé›†ä¸ºï¼šå¤šæ¡SQLè¯­å¥æ‰§è¡Œç»“æœï¼š-2æˆ–è€…-3</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//Statementæ‰§è¡Œæ–¹å¼ï¼šlsè¡¨ç¤ºä¸€ä¸ªåŒ…å«å¤šä¸ªStudentå¯¹è±¡çš„é›†åˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createStatement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Student s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ls){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    s.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addBatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;delete from student2 where id=&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] resultArr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">executeBatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ç»“æœé›†ä¸ºï¼šå¤šæ¡SQLè¯­å¥å½±å“æ¡ç›®æ•°ï¼š0æˆ–è€…1</span></span></code></pre></div><h2 id="äº‹åŠ¡æ§åˆ¶" tabindex="-1">äº‹åŠ¡æ§åˆ¶ <a class="header-anchor" href="#äº‹åŠ¡æ§åˆ¶" aria-label="Permalink to &quot;äº‹åŠ¡æ§åˆ¶&quot;">â€‹</a></h2><ul><li>JDBCé»˜è®¤äº‹åŠ¡ä¸ºè‡ªåŠ¨äº‹åŠ¡ï¼ŒåŠæ‰§è¡Œååªè¦æ²¡æœ‰é”™è¯¯è‡ªåŠ¨æäº¤ã€‚</li><li>ä½†åœ¨å¤šæ¡SQLå­˜åœ¨åŸå­æ€§é—®é¢˜æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨çš„æ§åˆ¶äº‹åŠ¡ã€‚</li><li>ä¹¦å†™ä½ç½®ï¼š <ul><li>æäº¤æ“ä½œä¸€èˆ¬å†™åœ¨tryå—çš„æœ€åº•éƒ¨ã€‚</li><li>å›æ»šæ“ä½œä¸€èˆ¬å†™åœ¨catchå—çš„ç¬¬ä¸€æ­¥ã€‚</li><li>äº‹åŠ¡æ§åˆ¶ä»£ç ä¸€èˆ¬ä¼šä¸å…­æ­¥éª¤åˆ†ç¦»ã€‚</li></ul></li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å…³é—­è‡ªåŠ¨æäº¤æ–¹å¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setAutoCommit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ä»»æ„å¤šæ¬¡åœ°è°ƒç”¨ExecuteUpdateæ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stmt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">executeUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(command1);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stmt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">executeUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(command2);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stmt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">executeUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(command3);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å½“æ‰€æœ‰å‘½ä»¤éƒ½å·²ç»æ‰§è¡Œåï¼Œè°ƒç”¨commitæ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">commit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å¦‚æœå‡ºç°ä¸€ä¸ªé”™è¯¯ï¼Œåˆ™è°ƒç”¨ä¸‹é¢çš„æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rollback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æ¨¡æ‹Ÿè½¬è´¦æµç¨‹ï¼Œå¢åŠ äº‹åŠ¡ç®¡ç†åŠŸèƒ½</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//è½¬è´¦ä¹‹ï¼šä¸šåŠ¡é€»è¾‘æ¨¡å—ï¼šservice.StudentService.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	+ å› ä¸ºäº‹åŠ¡ç®¡ç†ä¾èµ–Connectionï¼Œæ‰€ä»¥éœ€è¦å°†Connectionæ”¾åˆ°serviceå±‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	+ è¦ä¿è¯äº‹åŠ¡ä¸­çš„å¤šæ¡SQLè¯­å¥éƒ½æ˜¯é€šè¿‡ä¸€ä¸ªConnectionè¿è¡Œçš„</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	+ å¦‚æœè¿˜åœ¨DAOå±‚åˆ›å»ºConnectionï¼Œé‚£ç»å¯¹æ— æ³•ä¿è¯ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªè¿æ¥å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	+ åˆ›å»ºè¿æ¥ä¹‹å‰éœ€è¦â€œæ³¨å†Œé©±åŠ¨â€ï¼Œæ‰€ä»¥å°†é©±åŠ¨æ³¨å†Œæµç¨‹ä¹Ÿå†™åˆ°äº†serviceå±‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> zhuanZhang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> from,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> to,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Connection conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Class.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;oracle.jdbc.driver.OracleDriver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DriverManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jdbc:oracle:thin:@127.0.0.1:1521:orcl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;system&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setAutoCommit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);		</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å°†è‡ªåŠ¨äº‹åŠ¡å…³é—­</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //é€šè¿‡å‚æ•°ä¼ é€’ï¼Œä¿è¯ä¸¤ä¸ªæ–¹æ³•ä¸­æ‰€ä½¿ç”¨çš„è¿æ¥å¯¹è±¡æ˜¯åŒä¸€ä¸ª</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        sd.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updateAgeByIDAndNum_jian</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(from, age,conn);		</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//è°ƒç”¨å‡å¯¿å‘½çš„æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        sd.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updateAgeByIDAndNum_jia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(to, age,conn);		</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//è°ƒç”¨å¢åŠ å¯¿å‘½çš„æ–¹æ³•</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">commit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å¦‚æœä»¥ä¸Šè¯­å¥ä¸­æ²¡æœ‰ä»»ä½•ä¸€æ¡å‡ºç°å¼‚å¸¸ï¼Œåˆ™æ‰§è¡Œæäº¤æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Exception </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rollback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å¦‚æœtryå—ä¸­çš„è¯­å¥ï¼Œä»»ä½•ä¸€ä¸ªå‡ºç°å¼‚å¸¸éƒ½å°†å›æ»šä¸¤æ¡SQLçš„è¿è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (SQLException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            e1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//è½¬è´¦ä¹‹ï¼šSQLè¯­å¥æ‰€åœ¨çš„DAOå±‚ï¼ˆæŒä¹…å±‚ï¼‰:dao.StudentDao</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	 * è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•äº‹åŠ¡çš„å‡å¯¿å‘½çš„æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	 * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> id</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> ä»è°èº«ä¸Šå‡å¯¿å‘½</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	 * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> age</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> å‡å»å¤šå°‘å¯¿å‘½</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	 * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@return</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	 */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateAgeByIDAndNum_jian</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age,Connection conn) throws Exception{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    PreparedStatement sta </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String sql </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;update student2 set age = age-? where id=?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sta </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">prepareStatement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sql);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sta.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, age);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sta.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, id);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sta.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">executeUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	 * è¿™æ˜¯äº‹åŠ¡ç¬¬äºŒä¸ªæ–¹æ³•ï¼Œç”¨äºå¢åŠ å¯¿å‘½</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	 * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> id</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> å¾€è°èº«ä¸ŠåŠ å¯¿å‘½</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	 * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> age</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> åŠ å¤šå°‘å¯¿å‘½</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	 * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@return</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	 */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateAgeByIDAndNum_jia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age,Connection conn) throws Exception{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    PreparedStatement sta </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String sql </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;update student2 set age = age+? where id=?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sta </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">prepareStatement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sql);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sta.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, age);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sta.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, id);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sta.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">executeUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="ä»£ç æå–" tabindex="-1">ä»£ç æå– <a class="header-anchor" href="#ä»£ç æå–" aria-label="Permalink to &quot;ä»£ç æå–&quot;">â€‹</a></h2><ul><li>ä»£ç å†—ä½™è¿‡å¤šï¼Œé‡å¤æ€§ä»£ç åœ¨daoå±‚ç»å¸¸å‡ºç°ï¼šJDBCçš„å‰ä¸¤æ­¥ã€‚</li><li>ä¸æ•°æ®åº“çš„è¿æ¥è¿‡äºé¢‘ç¹ï¼Œä¸€æ¡SQLæ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œç«‹é©¬å…³é—­ã€‚</li><li>ç¡¬ç¼–ç [^ç¡¬ç¼–ç ]é—®é¢˜ï¼šç”¨æˆ·åã€å¯†ç ã€è·¯å¾„ã€é©±åŠ¨å…¨éƒ¨å†™æ­»åœ¨ç¨‹åºä¸­ã€‚</li></ul><p><strong>å°†å¸¸ç”¨æ•°æ®åº“è¿æ¥ä»£ç è¿›è¡Œæå–</strong></p><p>åƒå¸¸ç”¨çš„ï¼Œç»å¸¸ä¼šè°ƒç”¨å¹¶ä¸”å¤šä¸ªä½ç½®é‡å¤è°ƒç”¨åŒæ ·çš„ä»£ç ï¼Œå¯ä»¥æå–æˆä¸€ä¸ªæ–¹æ³•ä½œä¸ºä¸€ä¸ªå·¥å…·ä½¿ç”¨ã€‚</p><p>å·¥å…·åœ¨é¡¹ç›®ä¸­ä¸€èˆ¬å­˜æ”¾åœ¨å·¥å…·ç±»é‡Œï¼Œæ–¹æ³•ç”¨æ¥å®ŒæˆæŸä¸€åŠŸèƒ½ï¼Œç±»ä¸­çš„æ–¹æ³•å®ŒæˆæŸä¸€ä¸»é¢˜ã€‚</p><p>å·¥å…·ç±»ä¸€èˆ¬æ”¾åœ¨å·¥å…·åŒ…ä¸­ï¼ŒåŒ…å‘½åä¸ºutilã€‚</p><p>å·¥å…·ç±»ä¸­æ–¹æ³•çš„å¼‚å¸¸ä¸€èˆ¬ä¸ä¼šæ•è·ï¼Œè€Œæ˜¯æŠ›å‡ºï¼Œè­¦å‘Šä½¿ç”¨è€…æ³¨æ„å¼‚å¸¸ï¼</p><p>å·¥å…·ç±»ä¸­çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨é™æ€ä¿®é¥°ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…è°ƒç”¨ï¼</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æå–å‰ä¸¤æ­¥å’Œå…³æµä»£ç åˆ°å·¥å…·ç±»ä¸­ï¼šutil.JDBCUtil</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Connection </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() throws Exception{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Class.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;oracle.jdbc.driver.OracleDriver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Connection conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DriverManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jdbc:oracle:thin:@127.0.0.1:1521:orcl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;system&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> closeAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Connection conn,Statement sta,ResultSet rs) throws Exception{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sta</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)sta.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//åœ¨DAOå±‚å°±å¯ä»¥ç›´æ¥è°ƒç”¨å·¥å…·ç±»æ–¹æ³•è¿›è¡Œè·å¾—è¿æ¥å’Œå…³æµï¼šdao.StudentDao</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Student</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> selectAllStudent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    PreparedStatement ps </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Connection conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ResultSet rs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JDBCUtil.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ps </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">prepareStatement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;select * from student&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        rs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ps.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">executeQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ArrayList&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            l.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SNAME&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SAGE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),rs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SSEX&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Exception </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            JDBCUtil.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">closeAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn, ps, rs);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Exception </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> l;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>å°†é…ç½®ä¿¡æ¯æ”¾åˆ°é…ç½®æ–‡ä»¶ä¸­å¹¶è¯»å–</strong></p><p>å°†æ•°æ®åº“è¿æ¥æ‰€ç”¨åˆ°çš„ï¼šé©±åŠ¨åã€åœ°å€ã€ç”¨æˆ·åã€å¯†ç æå–åˆ°ä»£ç çš„å¤–éƒ¨</p><p>Propertieå¯¹è±¡æ˜¯Hashtableçš„å­ç±»ï¼Œkeyå’Œvalueéƒ½æ˜¯Stringç±»å‹ï¼Œé€‚åˆä¿å­˜.propertiesé…ç½®æ–‡ä»¶</p><p>ä½¿ç”¨æµçš„æ–¹å¼è¯»å–ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œç„¶åä¿å­˜åœ¨Propertieå¯¹è±¡ä¸­</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ä½äºJDBCUtilå·¥å…·ç±»ä¸­çš„é™æ€ä»£ç å—ï¼Œç”¨äºè¯»å–é…ç½®æ–‡ä»¶å¹¶ä¸”ä½¿é©±åŠ¨åœ¨å¤šä¸ªSQLè¯­å¥æ‰§è¡Œçš„æ—¶å€™åŠ è½½ä¸€æ¬¡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Properties pro </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Properties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        InputStream is </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FileInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C:/Users/Administrator/Workspaces/MyEclipse Professional2/2019å¹´12æœˆ11æ—¥2/src/com/gaoshu/config/JDBC.properties&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        pro.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">load</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(is);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Class.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pro.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;driver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        is.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;in static!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (FileNotFoundException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        e1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ClassNotFoundException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (IOException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">driver</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=oracle.jdbc.driver.OracleDriver</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=jdbc:oracle:thin:@127.0.0.1:1521:orcl</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=hr</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=system</span></span></code></pre></div><p><strong>æ§åˆ¶æ•°æ®åº“è¿æ¥æ¬¡æ•°</strong></p><p>å¤šæ¬¡é‡å¤çš„ä¸æ•°æ®åº“å»ºç«‹è¿æ¥å°†åŠ é‡æ•°æ®åº“è´Ÿè½½å¹¶æµªè´¹è¿æ¥èµ„æº</p><p>å¯ä»¥é‡‡ç”¨ç±»ä¼¼å•ä¾‹çš„æ–¹å¼å°†è¿æ¥å¯¹è±¡æ§åˆ¶ä¸ºä¸€ä¸ªï¼Œä½¿ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åªä¼šå‡ºç°ä¸€ä¸ªè¿æ¥å¯¹è±¡</p><p>å› ä¸ºåªæœ‰ä¸€ä¸ªè¿æ¥å¯¹è±¡æ‰€ä»¥åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¸èƒ½å…³é—­è¿æ¥ï¼Œæ–¹å¼åç»­ä½¿ç”¨å¯¼è‡´å‡ºç°â€œå…³é—­çš„è¿æ¥â€å¼‚å¸¸</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å¯¹getConnectionæ–¹æ³•çš„ä¼˜åŒ–ï¼šutil.JDBCUtil(ç±»ä¼¼äºæ‡’æ±‰æ¨¡å¼)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Connection conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Connection </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() throws Exception{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DriverManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pro.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),pro.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),pro.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å¯¹é™æ€ä»£ç å—çš„ä¼˜åŒ–:util.JDBCUtilï¼ˆç±»ä¼¼é¥¿æ±‰æ¨¡å¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Properties pro </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Properties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Connection conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        InputStream is </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FileInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C:/Users/Administrator/Workspaces/MyEclipse Professional2/2019å¹´12æœˆ11æ—¥2/src/com/gaoshu/config/JDBC.properties&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        pro.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">load</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(is);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Class.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pro.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;driver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        is.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DriverManager.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pro.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),pro.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),pro.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (FileNotFoundException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        e1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ClassNotFoundException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (IOException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (SQLException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="åŒ…åˆ†å±‚" tabindex="-1">åŒ…åˆ†å±‚ <a class="header-anchor" href="#åŒ…åˆ†å±‚" aria-label="Permalink to &quot;åŒ…åˆ†å±‚&quot;">â€‹</a></h2><p><strong>daoï¼š</strong></p><p>æŒä¹…å±‚ï¼šä¸æ•°æ®åº“äº¤äº’çš„ä»£ç ï¼Œç±»ä¸è¡¨å¯¹åº”ï¼Œä¸€ä¸ªç±»é‡Œå¤„ç†ä¸€ä¸ªè¡¨çš„æ“ä½œä¸ºä¸€ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ–¹æ³•ä¸€ä¸ªSQLè¯­å¥ä¸èƒ½å¤šäº†ï¼Œæ–¹æ³•ä¸èƒ½æ˜¯é™æ€çš„ã€‚åªä¸æ•°æ®åº“äº¤äº’ï¼Œæ”¶åˆ°ç»„è£…SQLçš„å‚æ•°ï¼Œè¿”å›æ•°æ®åº“å–åˆ°çš„ç»“æœã€‚</p><p><strong>entity/beanï¼š</strong></p><p>å®ä½“ç±»ï¼šä¸æ•°æ®åº“çš„è¡¨è¿›è¡Œå¯¹åº”ï¼Œè¿˜ä¼šå‡ºç°ä¸è¡¨ä¸å¯¹åº”çš„æƒ…å†µï¼ˆæ‰©å±•ç±»ï¼‰ï¼Œä¸€ä¸ªç±»æè¿°ä¸€ä¸ªå®ä½“ï¼Œç±»ä¸­å­˜åœ¨get/set/toString/æ„é€ æ–¹æ³•ã€‚ç”¨äºæè¿°ä¸€ä¸ªå®ä½“ã€‚</p><p><strong>utilï¼š</strong></p><p>å·¥å…·ç±»ï¼šç»å¸¸ä¼šè°ƒç”¨çš„ï¼Œé‡å¤è°ƒç”¨çš„ä»£ç å­˜æ”¾åœ¨æ­¤ç±»ï¼Œä¸€ä¸ªç±»ä»£è¡¨ä¸€ä¸ªä¸»é¢˜ï¼ˆJDBCï¼Œç¼–ç ï¼Œè¾“å…¥ï¼ŒåŠ å¯†ï¼‰ï¼Œç±»ä¸­çš„æ–¹æ³•ä¸ºä¸»é¢˜ä¸­çš„å…·ä½“æ“ä½œï¼ˆJDBCï¼šè·å¾—è¿æ¥ï¼Œå…³æµï¼Œç¼–ç ï¼šç¼–ç è½¬æ¢ï¼Œç”Ÿæˆç¼–ç ï¼Œåˆ¤æ–­ç¼–ç ï¼‰ã€‚</p><p><strong>serviceï¼š</strong></p><p>æœåŠ¡å±‚ï¼šæœåŠ¡å±‚çš„ä¸€ä¸ªç±»è¡¨ç¤ºä¸€ä¸ªä¸šåŠ¡é€»è¾‘ï¼ˆç™»å½•ï¼Œæ³¨å†Œï¼Œè½¬è´¦ï¼‰ï¼Œç±»ä¸­çš„æ–¹æ³•å…¨éƒ¨ä¾›æ­¤é€»è¾‘ä½¿ç”¨ã€‚æ‰€æœ‰çš„é€»è¾‘åŠè½¬æ¢ç­‰æ“ä½œå…¨éƒ¨åœ¨æ­¤å±‚æ‰§è¡Œï¼Œæ˜¯ä»£ç æœ€å¤šçš„å±‚æ¬¡ã€‚</p><p><strong>configï¼š</strong></p><p>é…ç½®æ–‡ä»¶ï¼šä¾›å·¥å…·ç±»æˆ–è€…ç¨‹åºè¿è¡Œæ‰€éœ€çš„å­—ç¬¦å€¼é…ç½®å­˜æ”¾å¤„ï¼Œä¸€èˆ¬ä»¥æµçš„æ–¹å¼è¯»å–å¹¶ä½¿ç”¨Propertiesç±»è§£æã€‚</p><p><strong>main/testï¼š</strong></p><p>æµ‹è¯•ç±»ï¼šå±€éƒ¨çš„åŒºé—´çš„è¿›è¡Œä»£ç æµ‹è¯•ï¼Œå…¶ä¸­å­˜åœ¨mainå‡½æ•°ç­‰å¯æ‰§è¡Œå‡½æ•°ã€‚åªæ˜¯ä¸€ä¸ªä¸´æ—¶çš„ä»£ç ã€‚</p><p><strong>servlet=&gt;collection/actionï¼š</strong></p><p>æ§åˆ¶å±‚ï¼šç”¨äºäºå‰ç«¯é¡µé¢è¿›è¡Œæ•°æ®äº¤äº’ï¼šæ”¶å’Œå‘ï¼Œå’Œç¼–ç ä¿®æ”¹æ“ä½œã€‚ä»…ä»…ç”¨äºæ•°æ®æ”¶å‘ã€‚</p><h3 id="ä½œç”¨" tabindex="-1">ä½œç”¨ <a class="header-anchor" href="#ä½œç”¨" aria-label="Permalink to &quot;ä½œç”¨&quot;">â€‹</a></h3><ul><li>å°†ä¸åŒåŠŸèƒ½çš„ä»£ç æå–åˆ°ä¸åŒä½ç½®ï¼Œåœ¨å‡ºç°å¼‚å¸¸æ—¶ä¾¿äºç»´æŠ¤ã€‚</li><li>å¹¶ä¸”å¯»æ‰¾å•ç‹¬çš„åŠŸèƒ½å—ä¼šæ›´åŠ ç®€å•ã€‚</li><li>æ–¹æ³•çš„å¢å¤šä½¿ä»£ç é‡ç”¨æ€§å¢åŠ ï¼Œå¹¶æœ‰æ•ˆçš„è§£è€¦åˆã€‚</li></ul><h3 id="è°ƒç”¨é¡ºåº" tabindex="-1">è°ƒç”¨é¡ºåº <a class="header-anchor" href="#è°ƒç”¨é¡ºåº" aria-label="Permalink to &quot;è°ƒç”¨é¡ºåº&quot;">â€‹</a></h3><p>servletè°ƒç”¨service</p><p>serviceè°ƒç”¨dao</p><p>daoè¿”å›ç»“æœç»™service</p><p>serviceè¿”å›ç»“æœç»™servlet</p><p>beanä¼ è¾“ç”¨</p><p>utilé¢‘ç¹è°ƒç”¨åœ¨å„å¤„éƒ½å¯ä»¥ç”¨</p><p>mainæµ‹è¯•ï¼Œå¯ä»¥åˆ‡å…¥ä»»ä½•ç‚¹ï¼Œä½†ç¨‹åºè¿è¡Œä¸ä¼šè¿è¡Œmainä¸­å†…å®¹</p><h3 id="ä¹¦å†™é¡ºåº-æ¨è" tabindex="-1">ä¹¦å†™é¡ºåºï¼ˆæ¨èï¼‰ <a class="header-anchor" href="#ä¹¦å†™é¡ºåº-æ¨è" aria-label="Permalink to &quot;ä¹¦å†™é¡ºåºï¼ˆæ¨èï¼‰&quot;">â€‹</a></h3><ol><li>è¦å…ˆå»ºå¥½å®ä½“ç±»ï¼Œå› ä¸ºåœ¨åç»­ä½¿ç”¨ä¸­è¦ç»å¸¸ç”¨åˆ°ã€‚å®ä½“ç±»åå°½é‡ä¸è¡¨åç›¸åŒï¼Œå­—æ®µå°½é‡ä¹Ÿä¸è¡¨ç›¸åŒã€‚</li><li>ç„¶åå»ºç«‹DAOå±‚çš„ç±»ï¼Œç±»åä¸è¡¨åç›¸åŒååŠ Daoå•è¯è¡¨ç¤ºæ­¤ç±»ä¸ºæŒä¹…å±‚ã€‚</li><li>å°†DAOå±‚çš„é‡å¤ä»£ç æå–åˆ°Utilç±»ä¸­ã€‚</li><li>å°†å·¥å…·ç±»ä¸­çš„é…ç½®å€¼æ”¾åˆ°å¤–éƒ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿›è¡ŒåŠ è½½ã€‚ä¼˜åŒ–è¿æ¥åŠæ³¨å†Œé©±åŠ¨çš„æ¬¡æ•°ã€‚æ³¨æ„ï¼Œå·¥å…·ç±»ä¸­çš„å¼‚å¸¸ä¸€èˆ¬æ˜¯æŠ›å‡ºçš„ï¼Œä¸ä¼šæ•è·ï¼ˆæé†’è°ƒç”¨è€…ä¸è¦å‡ºæ­¤ç±»å¼‚å¸¸ï¼‰ã€‚</li><li>ä½¿ç”¨å·¥å…·ç±»å¯¹DAOå±‚ä»£ç è¿›è¡Œä¼˜åŒ–ã€‚</li><li>åˆ›å»ºä¸€ä¸ªDAOå±‚çš„æ¥å£ï¼Œä¸€ä¸ªæ¥å£å¯¹åº”ä¸€ä¸ªå®ç°ç±»ï¼Œå®ç°ç±»å†™åœ¨dao.implåŒ…ä¸‹ï¼Œæ¥å£å†™åœ¨daoåŒ…ä¸‹ã€‚</li><li>åˆ›å»ºä¸€ä¸ªServiceå±‚ï¼Œå¦‚æœå•ä¸€åŠŸèƒ½çš„æ“ä½œè¾ƒå¤šï¼Œå¯ä»¥å°†ä¸€ä¸ªæ“ä½œä½œä¸ºä¸€ä¸ªç±»ï¼Œç±»ä¸­çš„æ–¹æ³•ç”¨æ¥æ”¯æŒåŒä¸€æ“ä½œï¼ˆåšä¸€ä¸ªåˆ é™¤æ“ä½œ=&gt;æŸ¥è¯¢æ­¤ç”¨æˆ·æ˜¯å¦å­˜åœ¨=&gt;æŸ¥è¯¢æ­¤ç”¨æˆ·æ˜¯å¦æœ‰å­é¡¹=&gt;åˆ é™¤ç”¨æˆ·ï¼‰ï¼›å¦‚æœå•ä¸€åŠŸèƒ½çš„æ“ä½œæ¯”è¾ƒå°‘ï¼ˆåšä¸€ä¸ªåˆ é™¤æ“ä½œ=&gt;å‘é€è¦åˆ é™¤çš„idç»™daoç›´æ¥åˆ é™¤ï¼‰ï¼Œé‚£å°±æŠŠä¸€ä¸ªæ¨¡å—ï¼ˆç”¨æˆ·æ¨¡å—ï¼Œè®¢å•æ¨¡å—ï¼‰ä½œä¸ºä¸€ä¸ªç±»ï¼Œç±»ä¸­çš„æ–¹æ³•æ¥å®ç°ä¸åŒçš„åŠŸèƒ½ã€‚</li><li>åœ¨æµ‹è¯•å±‚æˆ–è€…Servletå±‚è°ƒç”¨serviceæ¥å£ä¸­çš„å†…å®¹ã€‚</li></ol>`,67)]))}const C=i(r,[["render",d]]);export{D as __pageData,C as default};
